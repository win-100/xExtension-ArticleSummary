# FreshRSS 文章总结插件

- [中文 README](README_zh.md)
- [English README](README.md)

这个 FreshRSS 插件允许用户使用符合 OpenAI API 规范的语言模型 API 来生成文章摘要。该插件提供了一个用户友好的界面来配置 API 端点、API 密钥、模型名称和一个在内容之前添加的提示。激活后，它会在每篇文章中添加一个“总结”按钮，点击后会将文章内容发送到配置的 API 进行总结。

## 功能

- **API 配置**：通过简单的表单轻松配置基础 URL、API 密钥、模型名称和提示。
- **总结按钮**：为每篇文章添加一个“总结”按钮，用户只需点击即可生成摘要。
- **Markdown 支持**：在发送内容到 API 之前，将 HTML 内容转换为 Markdown，确保与各种语言模型的兼容性。
- **错误处理**：在 API 错误或配置不完整的情况下提供反馈。
- **智能回退**：当文章正文为空或仅包含图像时，使用文章的描述字段。

## 安装

1. **下载插件**：将此仓库克隆或下载到您的 FreshRSS 扩展目录。
2. **启用插件**：进入 FreshRSS 扩展管理页面，启用 "ArticleSummary" 插件。
3. **配置插件**：导航到插件的配置页面，设置您的 API 详细信息。

## 配置

要配置插件，请按照以下步骤操作：

1. **基础 URL**：输入您的语言模型 API 的基础 URL（例如，`https://api.openai.com/`）。注意，URL 不应包含版本路径（例如，`/v1`）。
2. **API 密钥**：提供您的 API 密钥用于身份验证。
3. **模型名称**：指定您希望用于总结的模型名称（例如，`gpt-3.5-turbo`）。
4. **提示**：添加一个提示，该提示将在发送请求到 API 时包含在文章内容之前。

## 使用

配置完成后，插件会自动为每篇文章添加一个“总结”按钮。点击此按钮将：

1. 将文章内容发送到配置的 API。
2. 在按钮下方显示生成的摘要。

## 依赖

- **Axios**：用于从浏览器发出 HTTP 请求。
- **Marked**：将 Markdown 内容转换为 HTML 以便显示。

## 贡献

欢迎贡献！请随时提交问题或拉取请求。

## 许可证

本项目基于 MIT 许可证。详见 [LICENSE](LICENSE) 文件。

## 致谢

- 感谢 FreshRSS 社区提供了一个强大的 RSS 管理平台。
- 灵感来自于对高效文章总结工具的需求。

## 历史
- 版本: 0.1.1 (2024-11-20)
  > **Bug 修复**: 防止总结按钮影响标题列表显示。之前，'entry_before_display' 钩子导致总结按钮被添加到标题列表中，导致显示问题。现在，按钮初始时没有文字，只有在点击文章显示时才会添加文字。

---

如有任何问题或需要支持，请在此仓库中打开一个 issue。